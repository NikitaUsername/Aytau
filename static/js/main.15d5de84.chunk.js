(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{108:function(t,e,n){},112:function(t,e,n){},130:function(t,e,n){},150:function(t,e,n){"use strict";n.r(e);n(108),n(109),n(104),n(105),n(110);var a=function(t){t&&t instanceof Function&&n.e(6).then(n.bind(null,579)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,o=e.getLCP,r=e.getTTFB;n(t),a(t),s(t),o(t),r(t)}))},s=n(65),o=n(12),r=n(0),c=n.n(r),i=n(154),d=(n(112),n(155)),h=n(153),u=n(156),l=n(151),f=n(92),p=n(93),g=n(88),b=n(8),m=Object(f.a)((function(t){var e=Object(p.a)().BookingCompleteStore,n=Object(o.f)().search,a=new URLSearchParams(n).get("booking");return Object(r.useEffect)((function(){e.checkBooking(a)}),[e]),Object(b.jsxs)("div",{className:"container-xxl",children:[Object(b.jsx)(g.a,{mainTitle:"\u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0430\u0440\u0435\u043d\u0434\u044b"}),Object(b.jsx)(d.a,{className:"row contentMain",children:e.booking?Object(b.jsx)(u.a,{children:e.bookingComplete?Object(b.jsx)("p",{children:"\u0412\u0430\u0448\u0430 \u0430\u0440\u0435\u043d\u0434\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0430!"}):Object(b.jsx)("div",{children:3===e.booking.statusId?Object(b.jsx)(l.a,{onClick:function(){return e.completeBooking(a)},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u0443"}):Object(b.jsx)("p",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})})}):Object(b.jsx)(h.a,{})})]})})),j=i.a.Footer,x=i.a.Content,O=c.a.lazy((function(){return Promise.all([n.e(2),n.e(4)]).then(n.bind(null,580))})),k=c.a.lazy((function(){return n.e(5).then(n.bind(null,587))}));var D=function(){return Object(b.jsx)(s.a,{children:Object(b.jsx)(c.a.Suspense,{fallback:Object(b.jsx)("div",{className:"animated fadeIn pt-3 text-center",children:"Loading..."}),children:Object(b.jsxs)("div",{className:"layoutAntd",children:[Object(b.jsx)(k,{}),Object(b.jsx)(x,{className:"contentAntd",children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{exact:!0,path:"/booking",children:Object(b.jsx)(O,{})}),Object(b.jsx)(o.a,{path:"/booking/complete",children:Object(b.jsx)(m,{})})]})}),Object(b.jsx)(j,{className:"container-xxl footerAntd",style:{backgroundColor:"#1e1e1e"},children:"Footer"})]})})})},v=n(25),y=n.n(v),I=n(22),w=n(100),B=n.n(w),C=n(49);n.n(C).a.locale("ru"),y.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(I.a,{locale:B.a,children:Object(b.jsx)(D,{style:{height:"100%"}})})}),document.getElementById("root")),a()},88:function(t,e,n){"use strict";n(0),n(130);var a=n(8);e.a=function(t){return Object(a.jsx)("div",{className:"row title",children:Object(a.jsx)("div",{className:"col-lg-12 ms-auto title__title",children:Object(a.jsx)("h1",{className:"title__text mx-auto",children:t.mainTitle.toUpperCase()})})})}},93:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var a=n(0),s=n.n(a),o=n(24),r=n.n(o),c=n(33),i=n(54),d=n(7),h=n(39),u=n.n(h),l=function t(){var e=this;Object(i.a)(this,t),this.booking=void 0,this.bookingComplete=!1,this.checkBooking=function(){var t=Object(c.a)(r.a.mark((function t(n){var a,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={cipherId:n},t.next=3,u.a.post("/api/booking/check",a);case 3:s=t.sent,console.log(s.data.data),e.booking=s.data.data;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.completeBooking=function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={statusId:2,cipherId:n},t.next=3,u.a.post("/api/booking/complete",a);case 3:t.sent.data.success&&(e.bookingComplete=!0);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Object(d.l)(this)},f=n(49),p=function t(){var e=this;Object(i.a)(this,t),this.stage=1,this.minDate=f().startOf("day").add(1,"days").toDate(),this.startDate=f().startOf("day").add(1,"days"),this.endDate=f().startOf("day").add(2,"days"),this.nights=1,this.adults=2,this.children=0,this.room=void 0,this.personInfo={name:"",surname:"",fathersName:"",email:"",phone:"",comment:""},this.transfer=!1,this.childrenOptions=[0,1],this.adultsOptions=[1,2,3],this.enableButton=!0,this.hideAlert=!0,this.rooms=[],this.range=[{startDate:this.startDate.toDate(),endDate:this.endDate.toDate(),key:"selection"}],this.changeStartDate=function(t){var n=e.endDate.diff(e.startDate,"days"),a=f().add(1,"days");t<a&&(t=a),e.startDate=t.startOf("day").utc(!0),e.endDate=f(e.startDate).add(n,"days"),e.nights=n,e.updateRange()},this.changeEndDate=function(t){t<=e.startDate&&(t=f(e.startDate).add(1,"days")),e.endDate=t.startOf("day").utc(!0);var n=t.diff(e.startDate,"days");e.nights=n,e.updateRange()},this.updateRange=function(){var t={startDate:e.startDate.toDate(),endDate:e.endDate.toDate(),key:"selection"};e.range=[t]},this.changeRange=function(t){e.range=[t],e.startDate=f(t.startDate).utc(!0),e.endDate=f(t.endDate).utc(!0),e.nights=f(t.endDate).diff(f(t.startDate),"days"),e.checkEnableButton()},this.changeAdults=function(t){e.adults=t;for(var n=[],a=0;a<4;a++)a+t<=3&&n.push(a);e.childrenOptions=n},this.changeChildren=function(t){e.children=t;for(var n=[],a=1;a<4;a++)a+t<=3&&n.push(a);e.adultsOptions=n},this.changeNights=function(t){e.nights=Math.round(t),e.endDate=f(e.startDate).add(e.nights,"days"),e.updateRange()},this.checkEnableButton=function(){e.nights>0?e.enableButton=!0:e.enableButton=!1},this.findRooms=Object(c.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.stage=2,t.next=3,u.a.post("/api/booking/getRooms",{start:e.startDate,end:e.endDate});case 3:return n=t.sent,t.next=6,n.data;case 6:e.rooms=t.sent;case 7:case"end":return t.stop()}}),t)}))),this.chooseRoom=function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.room=n,e.stage=3;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.goToStage=function(t){t<e.stage&&4!==e.stage&&(e.stage=t,1===t&&(e.room=void 0,e.rooms=[]))},this.changeValue=function(t,n){e.personInfo[n]=t},this.setTransfer=function(t){e.transfer=t.target.checked},this.checkFields=function(){return!(0===e.personInfo.name.replace(/\s/g,"").length||0===e.personInfo.surname.replace(/\s/g,"").length||e.personInfo.phone.replace(/\s/g,"").length<5||e.personInfo.phone.replace(/\s/g,"").length>12||null===e.personInfo.email.match(/.+@.+\..+/))},this.sendBookingRequest=Object(c.a)(r.a.mark((function t(){var n,a,s,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.checkFields();case 2:if(t.sent){t.next=7;break}e.hideAlert=!1,t.next=14;break;case 7:return a=+e.room.price*+e.nights,a+=e.transfer?3e3:0,s={startDate:e.startDate,endDate:e.endDate,adults:e.adults,children:e.children,room:e.room.id,name:e.personInfo.name,surname:e.personInfo.surname,fathersName:e.personInfo.fathersName,email:e.personInfo.email,phone:e.personInfo.phone,comment:e.personInfo.comment,transfer:e.transfer,totalAmount:a},t.next=12,u.a.post("/api/booking/saveRequest",s);case 12:o=t.sent,(null===(n=o.data)||void 0===n?void 0:n.success)&&(e.stage=4);case 14:case"end":return t.stop()}}),t)}))),Object(d.l)(this)},g=s.a.createContext({BookingStore:new p,BookingCompleteStore:new l}),b=function(){return s.a.useContext(g)}}},[[150,1,3]]]);
//# sourceMappingURL=main.15d5de84.chunk.js.map